<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Basic Arithmetic Practice</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <a href="#main-content" class="sr-only">Skip to main content</a>
    
    <!-- Theme Toggle -->
    <div class="theme-toggle">
        <button id="theme-button" class="theme-button" aria-label="Toggle theme">
            <svg class="theme-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
            </svg>
        </button>
        <div class="theme-options" id="theme-options">
            <button class="theme-option" data-theme="light">Light</button>
            <button class="theme-option" data-theme="dark">Dark</button>
            <button class="theme-option" data-theme="system">System</button>
        </div>
    </div>
    
    <div class="container">
        <div class="card" id="setup-section">
            <div class="header">
                <h1>Basic Arithmetic Practice</h1>
            </div>
            
            <div class="form-grid">
                <div class="form-group full-width">
                    <label>
                        Operations to Practice:
                        <span class="help-icon">?
                            <div class="tooltip">Choose which math operations you want to practice. You can select one or multiple.</div>
                        </span>
                    </label>
                    <div class="checkbox-group">
                        <div class="checkbox-item">
                            <input type="checkbox" id="addition" checked>
                            <label for="addition">Addition</label>
                        </div>
                        <div class="checkbox-item">
                            <input type="checkbox" id="subtraction">
                            <label for="subtraction">Subtraction</label>
                        </div>
                        <div class="checkbox-item">
                            <input type="checkbox" id="multiplication">
                            <label for="multiplication">Multiplication</label>
                        </div>
                        <div class="checkbox-item">
                            <input type="checkbox" id="division">
                            <label for="division">Division</label>
                        </div>
                    </div>
                </div>

                <div class="form-group">
                    <label for="operand-digits">
                        How Many Digits in Each Operand
                        <span class="help-icon">?
                            <div class="tooltip">How many digits each number in the problem should have. Example: 1 = numbers like 5, 9; 2 = numbers like 15, 42</div>
                        </span>
                    </label>
                    <input type="number" id="operand-digits" min="1" value="1">
                </div>

                <div class="form-group">
                    <label for="result-digits">
                        How Many Digits in the Answer
                        <span class="help-icon">?
                            <div class="tooltip">Maximum number of digits allowed in the answer. Helps control problem difficulty.</div>
                        </span>
                    </label>
                    <input type="number" id="result-digits" min="1" value="2">
                </div>

                <div class="form-group">
                    <label for="operand-count">
                        How many operands in a problem
                        <span class="help-icon">?
                            <div class="tooltip">How many numbers to include in each problem. Example: 2 = A + B, 3 = A + B + C</div>
                        </span>
                    </label>
                    <input type="number" id="operand-count" min="2" value="2">
                </div>

                <div class="form-group" id="operator-mixing-group" style="display: none;">
                    <label for="operator-mixing">
                        Operator Style
                        <span class="help-icon">?
                            <div class="tooltip">Single: Use only one type of operator per problem. Mixed: Combine different operators in one problem.</div>
                        </span>
                    </label>
                    <select id="operator-mixing">
                        <option value="single">Single Operator</option>
                        <option value="mixed">Mixed Operators</option>
                    </select>
                </div>

                <div class="form-group full-width">
                    <label for="problem-count">
                        Number of Problems 
                        <span class="badge">0 = infinite</span>
                        <span class="help-icon">?
                            <div class="tooltip">Set how many problems to solve. Use 0 for unlimited practice.</div>
                        </span>
                    </label>
                    <input type="number" id="problem-count" min="0" value="10">
                </div>
            </div>

            <div class="form-group">
                <button id="start-button" class="button">Start Practice Session</button>
                <div id="setup-error" class="error-message"></div>
                <button id="reset-button" class="button button-reset">Reset to Defaults</button>
            </div>
            
            <div id="performance-summary" class="performance-summary" style="display: none;">
                <h3>Session Results</h3>
                <div class="performance-stats">
                    <div class="performance-stat">
                        <div id="performance-solved" class="performance-value">0</div>
                        <div class="performance-label">Problems Solved</div>
                    </div>
                    <div class="performance-stat">
                        <div id="performance-correct" class="performance-value">0</div>
                        <div class="performance-label">Correct Answers</div>
                    </div>
                    <div class="performance-stat">
                        <div id="performance-accuracy" class="performance-value">0%</div>
                        <div class="performance-label">Accuracy</div>
                    </div>
                    <div class="performance-stat">
                        <div id="performance-score" class="performance-value">0</div>
                        <div class="performance-label">Score</div>
                    </div>
                </div>
                <div id="performance-message" class="performance-message"></div>
            </div>
        </div>

        <div class="card" id="session-section">
            <div class="header">
                <h2>Practice Session</h2>
            </div>
            
            <div class="problem-container" id="problem-container">
                <div id="problem" class="problem"></div>
                <label for="answer-input" class="sr-only">Enter your answer</label>
                <input type="text" id="answer-input" autocomplete="off" placeholder="Enter answer">
                <div class="keypad" role="group" aria-label="Number keypad">
                    <button class="key" data-value="7" aria-label="Seven">7</button>
                    <button class="key" data-value="8" aria-label="Eight">8</button>
                    <button class="key" data-value="9" aria-label="Nine">9</button>
                    <button class="key" data-value="4" aria-label="Four">4</button>
                    <button class="key" data-value="5" aria-label="Five">5</button>
                    <button class="key" data-value="6" aria-label="Six">6</button>
                    <button class="key" data-value="1" aria-label="One">1</button>
                    <button class="key" data-value="2" aria-label="Two">2</button>
                    <button class="key" data-value="3" aria-label="Three">3</button>
                    <button class="key negative" id="negative-sign" aria-label="Toggle negative sign">+/−</button>
                    <button class="key" data-value="0" aria-label="Zero">0</button>
                    <button class="key backspace" id="backspace" aria-label="Backspace">⌫</button>
                    <button class="key enter" id="submit-answer" aria-label="Submit answer">Enter</button>
                </div>
            </div>

            <div class="stats">
                <div class="stat-item">
                    <div class="stat-label">Solved</div>
                    <div id="problems-solved" class="stat-value">0</div>
                </div>
                <div class="stat-item">
                    <div class="stat-label">Correct</div>
                    <div id="correct-count" class="stat-value">0</div>
                </div>
                <div class="stat-item">
                    <div class="stat-label">Accuracy</div>
                    <div id="accuracy" class="stat-value">0%</div>
                </div>
            </div>

            <div class="progress-container">
                <div class="progress-bar">
                    <div id="progress" class="progress"></div>
                </div>
            </div>

            <div class="session-controls">
                <button id="end-session" class="button button-secondary">End Session</button>
            </div>
        </div>

        <div id="floating-popup" class="floating-popup"></div>
        
        <div class="credit">
            Created by Zeroichi
        </div>
    </div>

    <script src="main.js"></script>
</body>
</html>
